unit Transform;

{$mode objfpc}{$H+}

interface

uses
  Classes, SysUtils, GraphMath;

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

function ScreenToWorld (x, y:integer):TFloatPoint;
function WorldToScreen (x, y:Extended):TPoint;

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

var
CanvasOffset: TFloatPoint;
Zoom: Extended;

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

implementation

function ScreenToWorld(x, y: integer): TFloatPoint;
begin
  Result.x := x / Zoom + CanvasOffset.x;
  Result.y := y / Zoom + CanvasOffset.y;
end;

function WorldToScreen(x, y: Extended): TPoint;
begin
  x := round((x - CanvasOffset.x) * Zoom);
  y := round((y - CanvasOffset.y) * Zoom);
end;

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

initialization

Zoom := 1;

end.
